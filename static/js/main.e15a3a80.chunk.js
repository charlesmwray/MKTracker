(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(44),s=a.n(r),c=(a(57),a(45)),l=a(12),i=a(13),u=a(17),h=a(14),d=a(16),m=(a(59),a(20)),p=a.n(m);p.a.initializeApp({apiKey:"AIzaSyCUVExBS8-J9U458sNtB95fwzQNBPSl5Rk",authDomain:"mctracker-42d0f.firebaseapp.com",databaseURL:"https://mctracker-42d0f.firebaseio.com",projectId:"mctracker-42d0f",storageBucket:"mctracker-42d0f.appspot.com",messagingSenderId:"218378060918"});var f=new p.a.auth.GoogleAuthProvider,v=p.a.auth(),b=p.a,g=a(117),E=a(11),k=a(113),y=a(114),C=a(115),S=a(119),j=a(116),O=a(118),w=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handlePointsChange=a.handlePointsChange.bind(Object(E.a)(Object(E.a)(a))),a.handleCupChange=a.handleCupChange.bind(Object(E.a)(Object(E.a)(a))),a.state={},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"saveScore",value:function(){b.database().ref("scores/").push({uid:this.props.userInfo.uid,points:this.state.pointsValue,cup:this.state.cupValue,date:new Date,username:this.props.userInfo.displayName,photoURL:this.props.userInfo.photoURL})}},{key:"handlePointsChange",value:function(e){this.setState({pointsValue:e.target.value})}},{key:"handleCupChange",value:function(e){this.setState({cupValue:e.target.value})}},{key:"render",value:function(){var e=this;return o.a.createElement("form",null,o.a.createElement(k.a,null,o.a.createElement(y.a,null,o.a.createElement(C.a,{xs:12,sm:6},o.a.createElement(S.a,null,o.a.createElement(j.a,null,"Points"),o.a.createElement(O.a,{type:"number",value:this.state.prixPoints,placeholder:"",onChange:this.handlePointsChange}))),o.a.createElement(C.a,{xs:12,sm:6},o.a.createElement(S.a,null,o.a.createElement(j.a,null,"Cup"),o.a.createElement(O.a,{componentClass:"select",placeholder:"select",onChange:this.handleCupChange},o.a.createElement("option",{value:"mushroom"},"Mushroom"),o.a.createElement("option",{value:"other"},"...")))),o.a.createElement(C.a,{xs:12,style:{textAlign:"right"}},o.a.createElement(g.a,{bsStyle:"primary",onClick:function(){e.saveScore()}},"Add Score")))))}}]),t}(n.Component),I=function(e){return 0===e.length?void 0:e.scores.map(function(e,t){return o.a.createElement("h3",{key:t},e.username," ",e.points)})},A=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this))).state={scores:[]},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.database().ref("scores/").on("value",function(t){var a=t.val(),n=Object.keys(a),o=[];n.forEach(function(e){o.push(a[e])}),e.setState({scores:o})})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h2",null,"LeaderBoard"),o.a.createElement(I,{scores:this.state.scores}))}}]),t}(n.Component),P=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(h.a)(t).call(this))).state=Object(c.a)({userInfo:null,showAddScore:!1},"userInfo",null),e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;!this.state.userInfo&&v.onAuthStateChanged(function(t){t&&e.setUser(t)})}},{key:"login",value:function(){v.signInWithPopup(f)}},{key:"setUser",value:function(e){!this.state.userInfo&&this.setState({userInfo:e})}},{key:"toggleAddScore",value:function(){this.setState({showAddScore:!this.state.showAddScore})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("h1",null,"Mario Kart Tracker"),this.state.userInfo&&o.a.createElement("h2",null,"Welcome ",this.state.userInfo.displayName)),!this.state.userInfo&&o.a.createElement(g.a,{bsStyle:"primary",onClick:this.login()},"Log In"),this.state.userInfo&&o.a.createElement("div",null,!this.state.showAddScore&&o.a.createElement(g.a,{bsStyle:"primary",onClick:function(){e.toggleAddScore()}},"Add Score"),this.state.showAddScore&&o.a.createElement(w,{userInfo:this.state.userInfo})),o.a.createElement(A,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},52:function(e,t,a){e.exports=a(111)},57:function(e,t,a){},59:function(e,t,a){}},[[52,2,1]]]);
//# sourceMappingURL=main.e15a3a80.chunk.js.map