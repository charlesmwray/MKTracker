(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(47),s=a.n(o),c=(a(58),a(48)),l=a(12),i=a(13),u=a(17),h=a(14),m=a(16),d=(a(60),a(21)),p=a.n(d);p.a.initializeApp({apiKey:"AIzaSyCUVExBS8-J9U458sNtB95fwzQNBPSl5Rk",authDomain:"mctracker-42d0f.firebaseapp.com",databaseURL:"https://mctracker-42d0f.firebaseio.com",projectId:"mctracker-42d0f",storageBucket:"mctracker-42d0f.appspot.com",messagingSenderId:"218378060918"});var f=new p.a.auth.GoogleAuthProvider,g=p.a.auth(),v=p.a,E=a(116),b=a(117),y=a(121),k=a(11),S=a(115),C=a(118),j=a(119),w=a(122),O=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handlePointsChange=a.handlePointsChange.bind(Object(k.a)(Object(k.a)(a))),a.handleCupChange=a.handleCupChange.bind(Object(k.a)(Object(k.a)(a))),a.state={cupValue:"mushroom"},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"saveScore",value:function(){v.database().ref("scores/").push({uid:this.props.userInfo.uid,points:this.state.pointsValue,cup:this.state.cupValue,date:new Date,username:this.props.userInfo.displayName,photoURL:this.props.userInfo.photoURL})}},{key:"handlePointsChange",value:function(e){this.setState({pointsValue:e.target.value})}},{key:"handleCupChange",value:function(e){this.setState({cupValue:e.target.value})}},{key:"render",value:function(){var e=this;return r.a.createElement("form",null,r.a.createElement(S.a,null,r.a.createElement(E.a,null,r.a.createElement(b.a,{xs:12,sm:6},r.a.createElement(C.a,null,r.a.createElement(j.a,null,"Points"),r.a.createElement(w.a,{type:"number",value:this.state.prixPoints,placeholder:"",onChange:this.handlePointsChange}))),r.a.createElement(b.a,{xs:12,sm:6},r.a.createElement(C.a,null,r.a.createElement(j.a,null,"Cup"),r.a.createElement(w.a,{componentClass:"select",placeholder:"select",onChange:this.handleCupChange,value:this.state.cupValue},r.a.createElement("option",{value:"mushroom"},"Mushroom"),r.a.createElement("option",{value:"other"},"...")))),r.a.createElement(b.a,{xs:12,style:{textAlign:"right"}},r.a.createElement(y.a,{bsStyle:"danger",onClick:function(){e.props.toggleAddScore()},style:{marginRight:"1rem"}},"Cancel"),r.a.createElement(y.a,{bsStyle:"primary",onClick:function(){e.saveScore()}},"Add Score")))))}}]),t}(n.Component),I=a(112),A=a(120),x=function(e){return 0===e.length?void 0:e.scores.map(function(e,t){return r.a.createElement(I.a,{key:t},e.username," ",e.date," ",r.a.createElement("span",{className:"pull-right"},e.points))})},P=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this))).state={scores:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.database().ref("scores/").on("value",function(t){var a=t.val(),n=Object.keys(a),r=[];n.forEach(function(e){r.push(a[e])}),e.setState({scores:r})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"LeaderBoard"),r.a.createElement(A.a,null,r.a.createElement(x,{scores:this.state.scores})))}}]),t}(n.Component),U=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(h.a)(t).call(this))).state=Object(c.a)({userInfo:null,showAddScore:!1},"userInfo",null),e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;!this.state.userInfo&&g.onAuthStateChanged(function(t){t&&e.setUser(t)})}},{key:"login",value:function(){g.signInWithPopup(f)}},{key:"setUser",value:function(e){!this.state.userInfo&&this.setState({userInfo:e})}},{key:"toggleAddScore",value:function(){this.setState({showAddScore:!this.state.showAddScore})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(E.a,null,r.a.createElement(b.a,{xs:12,sm:8},r.a.createElement("h1",null,"Mario Kart Tracker")),r.a.createElement(b.a,{xs:12,sm:4},!this.state.userInfo&&r.a.createElement(y.a,{bsStyle:"primary",onClick:function(){e.login()}},"Log In"),this.state.userInfo&&r.a.createElement("div",{className:"pull-right"},r.a.createElement("img",{style:{margin:"1rem",width:"50px",height:"50px",borderRadius:"50%"},src:this.state.userInfo.photoURL}))))),this.state.userInfo&&r.a.createElement("div",null,!this.state.showAddScore&&r.a.createElement(y.a,{bsStyle:"primary",onClick:function(){e.toggleAddScore()}},"Add Score"),this.state.showAddScore&&r.a.createElement(O,{userInfo:this.state.userInfo,toggleAddScore:this.toggleAddScore.bind(this)})),r.a.createElement(P,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},53:function(e,t,a){e.exports=a(113)},58:function(e,t,a){},60:function(e,t,a){}},[[53,2,1]]]);
//# sourceMappingURL=main.768c6d5b.chunk.js.map